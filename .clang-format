# Copyright (c) 2023, Arm Limited and Contributors. All rights reserved.
#
# SPDX-License-Identifier: BSD-3-Clause

# TF-A Tests Coding style spec for clang-format.

# References:
# [CF]		https://clang.llvm.org/docs/ClangFormatStyleOptions.html
# [TFA]		https://trustedfirmware-a.readthedocs.io/en/v2.9/process/coding-style.html


# [TFA] Section 3.4.1
# Lines must end in `\n`, not `\r\n` or `\r`
LineEnding: LF

# [TFA] Section 3.4.5
# Indentation must use tabs. Tab spacing is 8 characters
UseTab: Always
IndentWidth: 8
TabWidth: 8
ContinuationIndentWidth: 8

# [TFA] Section 3.4.7
# Lines should be less than 80 characters
ColumnLimit: "80"

# [TFA] Section 3.4.8
# The file must end with a newline
InsertNewlineAtEOF: true

# [TFA] Section 3.4.9.1
# Opening brace is *not* placed on a new line, except for functions
IndentCaseLabels: false
BreakBeforeBraces: Custom
BraceWrapping:
  AfterCaseLabel: false
  AfterClass: false
  AfterControlStatement: MultiLine
  AfterEnum: false
  AfterFunction: true
  AfterNamespace: false
  AfterObjCDeclaration: false
  AfterStruct: false
  AfterUnion: false
  AfterExternBlock: false
  BeforeCatch: false
  BeforeElse: false
  BeforeLambdaBody: false
  BeforeWhile: false
  IndentBraces: false
  SplitEmptyFunction: false
  SplitEmptyRecord: false
  SplitEmptyNamespace: false

# [TFA] Section 3.4.9.2
# Braces must be used for the body of conditional statements (eg `if`, `for`,
# `while`, `do`), even if the body is a single statement
InsertBraces: true

# [TFA] Section 3.4.12.2
# Star in pointer type must be attacthed to the name of the variable, not the type
PointerAlignment: Right

# [TFA] Section 3.4.13
# Insert a space at the start of every line comment
SpacesInLineCommentPrefix:
	Minimum: 1
# Split long comments over several lines
ReflowComments: "true"
