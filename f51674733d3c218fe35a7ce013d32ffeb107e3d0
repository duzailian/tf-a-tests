{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4404d9ec_5be39575",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2023-11-01T14:58:40Z",
      "side": 1,
      "message": "Any callers using tftf_smc() will have SVE hint bit set in SMC FID if the CPU supports SVE and SVE traps are enabled in trap register (cptr_el2 for EL2 payload and cpacr_el1 for EL1 payload).\n\nThis change breaks four world testing, on SVE enabled config. Cactus SP runs with cpacr_el1.zen\u003d0, and some code path in Cactus uses tftf_smc, and this set SVE hint bit. The ffa_handler() in Hafnium currently doesn\u0027t discard SVE hint bit in SMC FID as part of the function identification and this causes the boot to fail.\n\nThis needs investigation if tftf_smc used in Cactus can be replaced with ffa_smc or ffa_service_call.",
      "revId": "f51674733d3c218fe35a7ce013d32ffeb107e3d0",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddae3b35_83f94d8e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-11-02T13:33:59Z",
      "side": 1,
      "message": "Comment removed by: Olivier Deprez; Reason: (fixed typos)",
      "parentUuid": "4404d9ec_5be39575",
      "revId": "f51674733d3c218fe35a7ce013d32ffeb107e3d0",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "700f469f_7cc2860a",
        "filename": "lib/extensions/sve/aarch64/sve.c",
        "patchSetId": 11
      },
      "lineNbr": 39,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-11-02T13:33:59Z",
      "side": 1,
      "message": "I wonder why creating macros? Why can\u0027t this be a simple or inlined function?\nThis makes the passing of flags argument confusing at call sites (used as an output for sve_traps_save_disable and an input for sve_traps_restore).",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 39,
        "endChar": 0
      },
      "revId": "f51674733d3c218fe35a7ce013d32ffeb107e3d0",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2731e476_96174f60",
        "filename": "lib/extensions/sve/aarch64/sve.c",
        "patchSetId": 11
      },
      "lineNbr": 40,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-11-02T13:33:59Z",
      "side": 1,
      "message": "Unnecessary.",
      "range": {
        "startLine": 40,
        "startChar": 7,
        "endLine": 40,
        "endChar": 13
      },
      "revId": "f51674733d3c218fe35a7ce013d32ffeb107e3d0",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e40dbe2_4c40f5ab",
        "filename": "lib/extensions/sve/aarch64/sve.c",
        "patchSetId": 11
      },
      "lineNbr": 45,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-11-02T13:33:59Z",
      "side": 1,
      "message": "Unnecessary.",
      "range": {
        "startLine": 45,
        "startChar": 7,
        "endLine": 45,
        "endChar": 13
      },
      "revId": "f51674733d3c218fe35a7ce013d32ffeb107e3d0",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e15b9838_03a5f573",
        "filename": "lib/smc/aarch64/smc.c",
        "patchSetId": 11
      },
      "lineNbr": 65,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-11-02T13:33:59Z",
      "side": 1,
      "message": "I don\u0027t really understand this logic.\nWhy do we directly associate the SVE hint bit passed through SMC to the trap control?\nAs we can have traps disabled and SVE hint bit set OR not set?",
      "range": {
        "startLine": 63,
        "startChar": 2,
        "endLine": 65,
        "endChar": 33
      },
      "revId": "f51674733d3c218fe35a7ce013d32ffeb107e3d0",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}