{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8b9cd207_dbc71dae",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_memory_sharing.c",
        "patchSetId": 12
      },
      "lineNbr": 1379,
      "author": {
        "id": 1000619
      },
      "writtenOn": "2024-05-09T21:12:00Z",
      "side": 1,
      "message": "Mostly for my understanding - what is the purpose of this reclaim call? In my understanding, the owner of the memory would use this call, but if the retrieve request was not completed then I would think the HV is not the owner of the memory and therefore shouldn\u0027t make this call?",
      "range": {
        "startLine": 1379,
        "startChar": 23,
        "endLine": 1379,
        "endChar": 38
      },
      "revId": "8d0861b54a2cd02fc1b5a67ef0be9d9a467e993f",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34f16251_491eba5e",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_memory_sharing.c",
        "patchSetId": 12
      },
      "lineNbr": 1379,
      "author": {
        "id": 1000619
      },
      "writtenOn": "2024-05-09T22:03:58Z",
      "side": 1,
      "message": "Nevermind, I think I understand, this is a multiple borrower situation in which VM is sharing to a VM and an SP? therefore HV makes calls on behalf of both the sender VM and the receiver VM? Is that right?",
      "parentUuid": "8b9cd207_dbc71dae",
      "range": {
        "startLine": 1379,
        "startChar": 23,
        "endLine": 1379,
        "endChar": 38
      },
      "revId": "8d0861b54a2cd02fc1b5a67ef0be9d9a467e993f",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0efd6f98_4259b8fa",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_memory_sharing.c",
        "patchSetId": 12
      },
      "lineNbr": 1379,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2024-06-17T16:52:35Z",
      "side": 1,
      "message": "Sorry for the late reply.\n\nWhen an endpoint uses lend/share/donate ABIs, the SPMC allocates resources to the operation. These are deallocated:\n- On donate: after the retrieve from the receiver.\n- On lend/share: after the sender invokes reclaim. Reclaim succeeds only if no receiver is using the memory.\n\nSo this is a clean-up action.\nAny subsequent attempt to use lend/donate/share using the same addresses would fail.",
      "parentUuid": "34f16251_491eba5e",
      "range": {
        "startLine": 1379,
        "startChar": 23,
        "endLine": 1379,
        "endChar": 38
      },
      "revId": "8d0861b54a2cd02fc1b5a67ef0be9d9a467e993f",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60263e6e_2a2074af",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_memory_sharing.c",
        "patchSetId": 12
      },
      "lineNbr": 1379,
      "author": {
        "id": 1000619
      },
      "writtenOn": "2024-06-18T01:52:21Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "0efd6f98_4259b8fa",
      "range": {
        "startLine": 1379,
        "startChar": 23,
        "endLine": 1379,
        "endChar": 38
      },
      "revId": "8d0861b54a2cd02fc1b5a67ef0be9d9a467e993f",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}