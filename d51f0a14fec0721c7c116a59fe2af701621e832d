{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "89c2de34_e1a16904",
        "filename": "spm/cactus/plat/arm/fvp/fdts/cactus.dts",
        "patchSetId": 1
      },
      "lineNbr": 137,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-08-12T07:24:39Z",
      "side": 1,
      "message": "Hi Raghu, I\u0027m embarrassed by this change, though tbh I don\u0027t have yet an alternative (beyond adding a red flag comment stating this is for tests purpose and must not be done in a real product). In this SW arch as you know the GIC is exclusively owned by SEL2 (and EL3). We made efforts since early days to forbid declaring any physical GIC resource from a partition manifest as it would make it a shared state between SPMC and the said SP. This TF-a-tests framework is meant to be a sample/reference for an integrator and in particular show what shall be done and what shall not be done. This change relates to the latter. For this particular case I\u0027m sure you know what you\u0027re doing, but if a developer comes and pulls cactus in a different context, it can easily derail into a partition directly accessing the physical GIC and conflict with SPMC\u0027s behavior leading to odd bugs.",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 137,
        "endChar": 4
      },
      "revId": "d51f0a14fec0721c7c116a59fe2af701621e832d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8b52cf2_2c38a08f",
        "filename": "spm/cactus/plat/arm/fvp/fdts/cactus.dts",
        "patchSetId": 1
      },
      "lineNbr": 137,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-08-12T13:06:58Z",
      "side": 1,
      "message": "Hi Olivier, completely agree and not an unexpected reaction. That is why i had set patch to work in progress on Aug 11 immediately after i pushed (got removed when i added reviewers i think, ive set it again).\nIm happy to abandon the patch, i pushed it anyway to answer questions on how the other hafnium patches for ESPI were tested to work without breaking anything.\nI dont know how else to test it on FVP although i\u0027m testing it downstream since we can actually wire up ESPIs to partitions. If you are happy to merge the hafnium patches without this test changes i have no issues dropping this patch.",
      "parentUuid": "89c2de34_e1a16904",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 137,
        "endChar": 4
      },
      "revId": "d51f0a14fec0721c7c116a59fe2af701621e832d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b21c9d46_56ab8f96",
        "filename": "spm/cactus/plat/arm/fvp/fdts/cactus.dts",
        "patchSetId": 1
      },
      "lineNbr": 137,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-08-12T16:02:37Z",
      "side": 1,
      "message": "Ok thanks for the feedback.\nI investigated FVP doc. and support and there is no peripheral whose INTID lands in the eSPI range. There is no way neither to override/reassign an existing peripheral (like sec. wtd) to this range.\nOther option is to permit triggering a sec int. from normal world. There is a control for this, but requires a secure write to the mentioned control register at boot which also end up looking like a hack.\nSo I have no other way atm, I will continue talking with the team to find a way forward.",
      "parentUuid": "f8b52cf2_2c38a08f",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 137,
        "endChar": 4
      },
      "revId": "d51f0a14fec0721c7c116a59fe2af701621e832d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}