{
  "comments": [
    {
      "key": {
        "uuid": "64bf1deb_5feb3304",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-09-02T22:51:04Z",
      "side": 1,
      "message": "i\u0027d rather see a separate partition created, based on cactus(perhaps cactus_spmc) that only contains code relevant to CACTUS_SEL1_SPMC. This can get messy quickly as you move along. This does repeat code initally but over time i expect it will diverge enough that the ifdef\u0027s will get real ugly.",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97e7ad34_d51a6588",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-09-03T02:04:43Z",
      "side": 1,
      "message": "That is a massive endeavour that I don\u0027t wish to undertake at this time. First, we would like to get functionality working and then look at separating the payloads, if required. The complete scope needs to be understood to do this and its hard to paint a complete picture at the time.",
      "parentUuid": "64bf1deb_5feb3304",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7ca1816_931bc44f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-09-03T17:46:55Z",
      "side": 1,
      "message": "I think you\u0027re overestimating what it might take. It should be no more than replicating the cactus directory under a different name, and prune files you are not currently using on tegra, and remove code currently under the else clause #ifdef CACTUS_SPMC_SEL1(whatever this is), and making minor edits to the make file. This doesn\u0027t seem like it should take too long.\nI don\u0027t feel strongly but i think this will eventually become messy. Lets see what others have to say. If they are not opposed, i\u0027m fine.",
      "parentUuid": "97e7ad34_d51a6588",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1deb47ac_da5f5626",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-09-03T17:50:52Z",
      "side": 1,
      "message": "Not really. Copy-paste is trivial. Maintenance and keeping cactus_spmc in sync with Cactus is a massive endeavor. Don\u0027t see value in forking code base, just yet.",
      "parentUuid": "a7ca1816_931bc44f",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "41ae2442_020bf5ad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-09-03T17:52:58Z",
      "side": 1,
      "message": "why do you think cactus_spmc needs to be in sync with cactus? cactus is a secure partition. cactus_spmc is the SPMC. They will have completely different roles and completely different expectations from the FFA interface..",
      "parentUuid": "1deb47ac_da5f5626",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40b391b7_491963fd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-09-03T19:39:54Z",
      "side": 1,
      "message": "These are still early days. We never know how Cactus will evolve. By  forking now, we run the risk of not getting the changes from other developers that use Cactus for FF-A. Once we reach a point where things stabilize, it might make sense to fork. I dont think we are there yet.",
      "parentUuid": "41ae2442_020bf5ad",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62ee6473_0390589a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-09-03T20:10:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "40b391b7_491963fd",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a01cf75_4fcbedfe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-09-10T08:28:26Z",
      "side": 1,
      "message": "I tend to agree with Raghu. cactus_spmc has a different role (implementing an \"SPM Core\" component in the strict definition of FF-A spec). It looks more like what a legacy TOS would have to do in managing multiple secure partitions. This was the reason for the current initiative in adding FF-A ABI support to OP-TEE. From TF-A perspective, if willing to implement an SPMC at S-EL1 it might have been more natural to adapt the TSP component (which is already an S-EL1 payload) to using the FF-A ABI transport.\ncactus as a Secure Partition aims at implementing \"application code\" or a secure service, and not dealing with the partition management that an SPMC is involved in.\nConsidering this, indeed it might end being tricky to maintain two different goals in the same codebase with no much benefit. If splitting we can still restructure such that common FF-A wrappers are shared between both components.",
      "parentUuid": "62ee6473_0390589a",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d517684_ed7cb498",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-09-13T04:39:24Z",
      "side": 1,
      "message": "It might make sense to split the codebase, but we are not involved in the FF-A work that\u0027s being done between Arm and Google. So NVIDIA cannot take ownership of cactus_spmc and keeping it relevant. So, I would still like to keep the payloads in the codebase, so that pre-8.4 CPUs are automatically taken care of by you guys. else, I am just afraid that pre-8.4 will be left behind. As a platform owner we really dont want that to happen.\n\nSo, although I agree in principle, I think it is too early to split the code base. We just have to go ahead with this approach and see how it goes, unless Arm would like to own cactus_spmc.",
      "parentUuid": "6a01cf75_4fcbedfe",
      "range": {
        "startLine": 7,
        "startChar": 5,
        "endLine": 7,
        "endChar": 41
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8b828f7f_b3ccf7a1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-09-02T22:51:04Z",
      "side": 1,
      "message": "all concepts of VM\u0027s are irrelevant(and perhaps even confusing) when SPMC is at S-EL1. I recommend cactus_spmc, that contains more appropriate terminology and deals with secure partitions in S-EL0.",
      "range": {
        "startLine": 12,
        "startChar": 19,
        "endLine": 12,
        "endChar": 29
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8309778_e9ea8489",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-09-03T02:04:43Z",
      "side": 1,
      "message": "I agree. But since this is an incremental change, the first step is to co-exist and then create our own identity i.e. new cactus for pre-8.4",
      "parentUuid": "8b828f7f_b3ccf7a1",
      "range": {
        "startLine": 12,
        "startChar": 19,
        "endLine": 12,
        "endChar": 29
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c68b1354_e266c7eb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-09-03T17:46:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a8309778_e9ea8489",
      "range": {
        "startLine": 12,
        "startChar": 19,
        "endLine": 12,
        "endChar": 29
      },
      "revId": "dbf2283b91a8f2aead528f318d74fd4e414a200d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}