{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "01844c02_7294c6be",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-02-27T09:42:57Z",
      "side": 1,
      "message": "So we\u0027re no longer covering the case of a secure interrupt routed to core 0 by default. The \u0027interrupts-target\u0027 field being optional, I wonder that we are losing coverage here..",
      "range": {
        "startLine": 13,
        "startChar": 57,
        "endLine": 14,
        "endChar": 6
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3ba229d_a0f286d8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-02-27T13:52:38Z",
      "side": 1,
      "message": "Thinking further, I guess the default core 0 case is covered by Hafnium CI as tests recently added do not specify interrupts-target field.",
      "parentUuid": "01844c02_7294c6be",
      "range": {
        "startLine": 13,
        "startChar": 57,
        "endLine": 14,
        "endChar": 6
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3421c8e9_08b86b69",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-03-03T06:12:14Z",
      "side": 1,
      "message": "correct. Can this be resolved then?",
      "parentUuid": "c3ba229d_a0f286d8",
      "range": {
        "startLine": 13,
        "startChar": 57,
        "endLine": 14,
        "endChar": 6
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "489d6c93_31413d3f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-02-25T15:06:36Z",
      "side": 1,
      "message": "Can one of the maintainers merge if this looks good?",
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93a985e9_9b302275",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-02-27T09:42:57Z",
      "side": 1,
      "message": "I believe this should move to spm/cactus/plat/arm/fvp/include/sp_platform_def.h",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8354f8cf_10f59118",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-02-27T13:52:38Z",
      "side": 1,
      "message": "Ok I see this was moved upon request from Madhu..\nThe only little worry is that this definition is specific to FVP e.g. it won\u0027t work on other platforms like TC, hence the reason to have it in the platform specific include directory.",
      "parentUuid": "93a985e9_9b302275",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "348f2c2d_6cf46151",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-02-27T23:15:28Z",
      "side": 1,
      "message": "In the initial patchset, this definition was in the file plat/arm/fvp/include/platform_def.h which didnt look good. I forgot about sp_platform_def.h file. I agree it is a good place to put this definition.",
      "parentUuid": "8354f8cf_10f59118",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7dcd4f7_f6cd75a1",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-02-28T14:26:05Z",
      "side": 1,
      "message": "Yes. And I think we need to add the proper MPIDR definition for TC0, otherwise this test case will fail:\nhttps://ci.trustedfirmware.org/job/tf-a-builder/1772060/\ntc-default,fvp-tc0-spm,fvp-tc0-spm:fvp-tc0.spm.tftf-debug",
      "parentUuid": "348f2c2d_6cf46151",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd7995a5_92b2a19d",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-03-03T06:12:14Z",
      "side": 1,
      "message": "yeah. this is a problem...not sure i know what the mpidr for tc0 is.. wondering if i should change to default to core 0 (platform_get_core_pos()) if PLAT_INTERRUPT_MPIDR is not defined? let me know your thoughtds?",
      "parentUuid": "c7dcd4f7_f6cd75a1",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f308fe7_d772e4d2",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-03-03T14:24:18Z",
      "side": 1,
      "message": "well seems like it made CI/CD and other plat builds worse since they dont have sp_platform_def.h yet they build these tests...",
      "parentUuid": "cd7995a5_92b2a19d",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9bd8505_232ef18a",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-03-03T14:35:44Z",
      "side": 1,
      "message": "platform_def.h is available for all paltforms and to me that seems like the same place. Madhu, can you elaborate why it did not look good in the platform file?\n\nI think putting it back in platform_def.h and ifdef\u0027ing the code to behave differently when the macro is defined vs not, should fix issues.\nLet me know what you think? I\u0027m bracnh predicting that is okay and making relevant changes, and going back to using platform_def.h",
      "parentUuid": "7f308fe7_d772e4d2",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92fd829f_98e0c570",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-03-03T15:20:33Z",
      "side": 1,
      "message": "For TC the MPIDR will be 0x81000300.\n\nI still think providing the right definition in those headers should work:\n spm/cactus/plat/arm/fvp/include/sp_platform_def.h\n spm/cactus/plat/arm/tc0/include/sp_platform_def.h",
      "parentUuid": "7f308fe7_d772e4d2",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5901e379_45f26a7e",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-03-03T15:23:09Z",
      "side": 1,
      "message": "Ok, now I see the problem, \nspm/cactus/plat/arm/*/include/sp_platform_def.h are meant to be consumed by cactus images.\n\nHere we\u0027re dealing with the normal side tftf so indeed sp_platform_def.h might not be relevant.",
      "parentUuid": "92fd829f_98e0c570",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33c32551_e7b81415",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-03-03T15:52:47Z",
      "side": 1,
      "message": "right. let me know if you have other ideas. Happy to refactor as needed to get it working.",
      "parentUuid": "5901e379_45f26a7e",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc04f52a_83e549f3",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-03-03T17:33:21Z",
      "side": 1,
      "message": "Hi Olivier,\nthanks for taking a look into it.\n\nHi Raghu,\nI initialy felt this macro has nothing to do with platform definitions. Anyways, I dont want to block the patch. I dont have any objection if you want to move it back to platform_def file since sp_platform_def wont work.",
      "parentUuid": "33c32551_e7b81415",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 28
      },
      "revId": "fd7eaa37d0a24a35b4e3cc9c4b3fa8528c194d28",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}