{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "05c42096_9f417888",
        "filename": "include/runtime_services/ffa_helpers.h",
        "patchSetId": 74
      },
      "lineNbr": 441,
      "author": {
        "id": 1000467
      },
      "writtenOn": "2023-12-08T16:52:24Z",
      "side": 1,
      "message": "Bit shifting 0 doesn\u0027t make much sense to me. I think something like this would be better and closer to what TF-A uses (we don\u0027t have many examples in hafnium and I notice this bitshift is also in there)\n\n#define FFA_HANDLE_ALLOCATOR_MASK UINT64_C(1)\n#define FFA_HANDLE_ALLOCATOR_SHIFT 63U\n#define FFA_HANDLE_ALLOCATOR_HYPERVISOR UINT64_C(1)\n#define FFA_HANDLE_ALLOCATOR_SPMC UINT64_C(0)\n\nThen the check is something like\nexpected_handle_mask \u003d allocator_is_spmc ? FFA_HANDLE_ALLOCATOR_SPMC\n                                         : FFA_HANDLE_ALOCATOR_HYPERVISOR;\n(((handle \u003e\u003e FFA_HANDLE_ALLOCATOR_SHIFT) \u0026 FFA_HANDLE_ALLOCATOR_MASK) \u003d\u003d expected_handle_mask)",
      "range": {
        "startLine": 440,
        "startChar": 0,
        "endLine": 441,
        "endChar": 43
      },
      "revId": "91a7f040db5093e0463856358ccdfbf8e67d147f",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d8e6688_84d97d6a",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_memory_sharing.c",
        "patchSetId": 74
      },
      "lineNbr": 82,
      "author": {
        "id": 1000467
      },
      "writtenOn": "2023-12-08T16:52:24Z",
      "side": 1,
      "message": "Don\u0027t think this should have been changed. Need space before { and tab before ERROR",
      "range": {
        "startLine": 80,
        "startChar": 42,
        "endLine": 82,
        "endChar": 18
      },
      "revId": "91a7f040db5093e0463856358ccdfbf8e67d147f",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc67066a_9a7f7622",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_memory_sharing.c",
        "patchSetId": 74
      },
      "lineNbr": 725,
      "author": {
        "id": 1000467
      },
      "writtenOn": "2023-12-08T16:52:24Z",
      "side": 1,
      "message": "I don\u0027t think this comment is needed",
      "range": {
        "startLine": 722,
        "startChar": 1,
        "endLine": 725,
        "endChar": 4
      },
      "revId": "91a7f040db5093e0463856358ccdfbf8e67d147f",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}