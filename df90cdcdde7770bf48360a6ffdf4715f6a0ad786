{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "97bbf544_32070d7a",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 73,
      "author": {
        "id": 1000883
      },
      "writtenOn": "2025-01-16T11:03:09Z",
      "side": 1,
      "message": "unless this gets put somewhere into the arrays in the loop, there\u0027s no reason this should be a global.",
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2e19740_fd85922c",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 73,
      "author": {
        "id": 1000660
      },
      "writtenOn": "2025-01-27T22:57:47Z",
      "side": 1,
      "message": "With the way the current implementation has been through, init function is common for all the tests and its a good place to modify/initialise this variable and utilise it at a later stage in test_psci_suspend() func.\nEither init this variable under all circumstances explicitly outside of test_init which would give a indication on using this global, or bring it under one api which itself is invoked for all tests, which is the case here.",
      "parentUuid": "97bbf544_32070d7a",
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7717876a_75ceb956",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 73,
      "author": {
        "id": 1000883
      },
      "writtenOn": "2025-01-28T09:43:05Z",
      "side": 1,
      "message": "but it\u0027s already initialised outside test_init - it\u0027s an argument. So why not pass it as an argument to test_psci_suspend()? It gets propagated as a parameter up to its caller but no further. I don\u0027t understand what necessitates the switch and only makes it hard to follow IMO.",
      "parentUuid": "f2e19740_fd85922c",
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8501ea9c_196bbeae",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 73,
      "author": {
        "id": 1000660
      },
      "writtenOn": "2025-01-28T11:56:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7717876a_75ceb956",
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1022eb6_04639ccc",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 668,
      "author": {
        "id": 1000883
      },
      "writtenOn": "2025-01-16T11:03:09Z",
      "side": 1,
      "message": "I don\u0027t get this comment. Firstly, who\u0027s \"it\"? PSCI_SUSPEND? Second, what\u0027s \"null state\"? That\u0027s not really a thing PSCI talks about, it\u0027s just the core\u0027s retention state. It makes sense that the check wouldn\u0027t be done then as the last core should be able to go into retention just fine. Finally, what\u0027s \"psci state encoding\"?\n\nI appreciate some of this is not the fault of this patch, but I\u0027d like to get it cleaned up.",
      "range": {
        "startLine": 665,
        "startChar": 1,
        "endLine": 668,
        "endChar": 27
      },
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "001089f4_0497d3a9",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 668,
      "author": {
        "id": 1000660
      },
      "writtenOn": "2025-01-31T14:47:02Z",
      "side": 1,
      "message": "comment modified.",
      "parentUuid": "c1022eb6_04639ccc",
      "range": {
        "startLine": 665,
        "startChar": 1,
        "endLine": 668,
        "endChar": 27
      },
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fff74c24_d7454c1e",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 673,
      "author": {
        "id": 1000883
      },
      "writtenOn": "2025-01-16T11:03:09Z",
      "side": 1,
      "message": "isn\u0027t this sentence backwards? Also, it would be a bit more correct to not say \"suspend the core to level 2\", rather just \"suspend to level 2\"",
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "043fd0f6_5f55fc66",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 673,
      "author": {
        "id": 1000660
      },
      "writtenOn": "2025-01-27T22:57:47Z",
      "side": 1,
      "message": "IIRC, as per tree topology, nonlead cpus will be at the higher level (in this case level2) and lead cpus/cores present at lower level. I am not sure what exactly you wanted to modify here. Please rectify if this is wrong.",
      "parentUuid": "fff74c24_d7454c1e",
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb671061_d0872ea7",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 673,
      "author": {
        "id": 1000883
      },
      "writtenOn": "2025-01-28T09:43:05Z",
      "side": 1,
      "message": "That would be true in platform coordinated mode, but not OS coordinated which is what we use here. A core cannot be suspended higher than level 0 until all cores in the cluster have gone off. Only the last core can be suspended to level 2. And I believe that is what the code is showing, except that a single core will be left running so that level 2 request should be denied.",
      "parentUuid": "043fd0f6_5f55fc66",
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76b82544_5b5a156d",
        "filename": "tftf/tests/runtime_services/standard_service/psci/api_tests/cpu_suspend/test_suspend.c",
        "patchSetId": 7
      },
      "lineNbr": 673,
      "author": {
        "id": 1000660
      },
      "writtenOn": "2025-01-28T11:56:24Z",
      "side": 1,
      "message": "OK.",
      "parentUuid": "fb671061_d0872ea7",
      "revId": "df90cdcdde7770bf48360a6ffdf4715f6a0ad786",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}