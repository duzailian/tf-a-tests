{
  "comments": [
    {
      "key": {
        "uuid": "1e171094_9d923107",
        "filename": "spm/quark/quark.mk",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-04-17T11:27:01Z",
      "side": 1,
      "message": "Why are these files needed?",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "ca74be230d932b233009eaa4b4f26a95483439fc",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3599baf6_d0279e32",
        "filename": "spm/quark/quark.mk",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 1000050
      },
      "writtenOn": "2019-04-17T12:15:09Z",
      "side": 1,
      "message": "They are not. Removed.",
      "parentUuid": "1e171094_9d923107",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "ca74be230d932b233009eaa4b4f26a95483439fc",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f38a0085_5a729248",
        "filename": "spm/quark/quark_def.h",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-04-17T11:27:01Z",
      "side": 1,
      "message": "I still don\u0027t fully understand this, despite the comment update. I suppose this is a virtual address (if it was a physical one, it would point to the Trusted Boot ROM on FVP, which is read-only, so SPM cannot possibly load the secure partition there). Presumably SPM sets up Quark\u0027s page tables accordingly. Say, if Quarks is loaded at physical address x, the pages tables are configured such that physical address x is mapped to virtual address 0, and so on (using identity-map offset by x).\n\nIs that how it works? If this is correct, how does SPM know about? AFAICS, the resource description file only references QUARK_IMAGE_BASE and I can\u0027t spot anything related to this \u0027x\u0027 physical address.",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 17,
        "endChar": 41
      },
      "revId": "ca74be230d932b233009eaa4b4f26a95483439fc",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7890469e_40093f64",
        "filename": "spm/quark/quark_def.h",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1000050
      },
      "writtenOn": "2019-04-17T12:15:09Z",
      "side": 1,
      "message": "All addresses are VAs because the SPRT specifications never talk about PAs. The resource description specifies \"load_address\". That\u0027s where the VA where the binary is loaded. Then, the RD specifies the memory regions based on that load address. SPM offsets the addresses accordingly (for the text, rodata and data section).",
      "parentUuid": "f38a0085_5a729248",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 17,
        "endChar": 41
      },
      "revId": "ca74be230d932b233009eaa4b4f26a95483439fc",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    }
  ]
}