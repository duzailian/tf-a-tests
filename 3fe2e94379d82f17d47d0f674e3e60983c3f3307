{
  "comments": [
    {
      "key": {
        "uuid": "fff321de_d45879a8",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 211,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-02-28T16:49:04Z",
      "side": 1,
      "message": "Why limit this to leaf functions? What if a test function is a leaf? Would that not defeat the purpose of this approach?",
      "range": {
        "startLine": 211,
        "startChar": 16,
        "endLine": 211,
        "endChar": 46
      },
      "revId": "3fe2e94379d82f17d47d0f674e3e60983c3f3307",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77efde26_4df55045",
        "filename": "docs/porting-guide.rst",
        "patchSetId": 3
      },
      "lineNbr": 376,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-02-28T16:49:04Z",
      "side": 1,
      "message": "I\u0027m having second thoughts about adding this paragraph. AFAIK, we do not use Pointer Authentication for the purpose of protecting the TFTF binary from ROP attacks and such. We just want some test payload that makes use of it and see whether this affects TF-A. In this context, we don\u0027t really care whether the authentication keys we choose for TFTF are random or not, this should not make any difference to TF-A.\n\nI\u0027d rather remove this paragraph to not create any confusion about the purpose of enabling Pointer Authentication in TFTF.",
      "range": {
        "startLine": 375,
        "startChar": 0,
        "endLine": 376,
        "endChar": 77
      },
      "revId": "3fe2e94379d82f17d47d0f674e3e60983c3f3307",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1071e032_59f80bdf",
        "filename": "docs/user-guide.rst",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-02-28T16:49:04Z",
      "side": 1,
      "message": "We might want to add a note here to explain that GCC 8 (right?) is needed for Pointer Authentication support.",
      "revId": "3fe2e94379d82f17d47d0f674e3e60983c3f3307",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82cf56c4_7a1f3bf0",
        "filename": "docs/user-guide.rst",
        "patchSetId": 3
      },
      "lineNbr": 342,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-02-28T16:49:04Z",
      "side": 1,
      "message": "I don\u0027t believe this is a build option shared across all test images, is it? I thought it was specific to TFTF, in which case it should be moved to the next section of this document.\n\nAlso, it might be worth calling out that only recent GCC versions support the -msign-return-address option.",
      "range": {
        "startLine": 339,
        "startChar": 0,
        "endLine": 342,
        "endChar": 47
      },
      "revId": "3fe2e94379d82f17d47d0f674e3e60983c3f3307",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "38c0b789_3344565f",
        "filename": "plat/common/aarch64/pauth.c",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-02-28T16:49:04Z",
      "side": 1,
      "message": "Does the platform need to be responsible for allocating this key buffer? Can we not move it to generic code and pass it to plat_init_apiakey() for the platform layer to initialize? What\u0027s the use case for a platform to be able to define its own key buffer?",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 16,
        "endChar": 60
      },
      "revId": "3fe2e94379d82f17d47d0f674e3e60983c3f3307",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "561c538e_c8643793",
        "filename": "plat/common/aarch64/pauth.c",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-02-28T16:49:04Z",
      "side": 1,
      "message": "In line with my other comment in the porting guide, this sentence seems a bit off to me. TFTF is not meant to be present on a production system. Suggest dropping it.",
      "range": {
        "startLine": 20,
        "startChar": 27,
        "endLine": 21,
        "endChar": 54
      },
      "revId": "3fe2e94379d82f17d47d0f674e3e60983c3f3307",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59652ac3_afbcb409",
        "filename": "tftf/framework/main.c",
        "patchSetId": 3
      },
      "lineNbr": 527,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-02-28T16:49:04Z",
      "side": 1,
      "message": "At least we could move this new code to a static inline function in this file, that would hide the pollution introduced by the #if ENABLE_PAUTH and avoid adding too much code in tftf_cold_boot_main().",
      "range": {
        "startLine": 523,
        "startChar": 0,
        "endLine": 527,
        "endChar": 4
      },
      "revId": "3fe2e94379d82f17d47d0f674e3e60983c3f3307",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "211d2c45_6a14376e",
        "filename": "tftf/framework/main.c",
        "patchSetId": 3
      },
      "lineNbr": 529,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-02-28T16:49:04Z",
      "side": 1,
      "message": "Why do we limit this to the ID_AA64ISAR1_EL1.API bit? In other words, why does Pointer authentication have to be implemented via an implementation defined algorithm? Why is the architected algorithm (APA bit) not suitable here?",
      "range": {
        "startLine": 529,
        "startChar": 1,
        "endLine": 529,
        "endChar": 40
      },
      "revId": "3fe2e94379d82f17d47d0f674e3e60983c3f3307",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}