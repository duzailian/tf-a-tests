{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0dd79d07_c2a4cb74",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 247,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-10-13T15:36:50Z",
      "side": 1,
      "message": "add doc comment, stating this should be part of the whitelist for the SP that runs it.",
      "range": {
        "startLine": 247,
        "startChar": 10,
        "endLine": 247,
        "endChar": 20
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eabb62bb_5872405b",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 247,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-10-13T17:03:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0dd79d07_c2a4cb74",
      "range": {
        "startLine": 247,
        "startChar": 10,
        "endLine": 247,
        "endChar": 20
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af75d984_a8fe2699",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 253,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-10-13T15:36:50Z",
      "side": 1,
      "message": "nitpick: align arguments",
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3971d4e_32646f66",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 253,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-10-13T17:03:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "af75d984_a8fe2699",
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4b5c2eb_af37e136",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 258,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-10-13T15:36:50Z",
      "side": 1,
      "message": "return?",
      "range": {
        "startLine": 258,
        "startChar": 1,
        "endLine": 258,
        "endChar": 3
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49652f13_50bf4e2e",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 258,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-10-13T17:03:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4b5c2eb_af37e136",
      "range": {
        "startLine": 258,
        "startChar": 1,
        "endLine": 258,
        "endChar": 3
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abe043ac_fc33e547",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 265,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-10-13T15:36:50Z",
      "side": 1,
      "message": "If this command is to be used to trigger eSPI targeting another SP, this won\u0027t be relevant.\n\nCan also, in such case be ignored...\nBut there is the trick to check the last serviced interrupt.",
      "range": {
        "startLine": 265,
        "startChar": 10,
        "endLine": 265,
        "endChar": 36
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "562e0d86_67d89f2c",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 265,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-10-13T17:03:58Z",
      "side": 1,
      "message": "As of now, the command CACTUS_TRIGGER_ESPI_CMD is explicitly designed to trigger ESPI for the current SP. In case, the current SP wants to trigger it on behalf of another SP, I will either improve this functionality or add a dedicated command.\n\nPlease let me know if its okay with you.",
      "parentUuid": "abe043ac_fc33e547",
      "range": {
        "startLine": 265,
        "startChar": 10,
        "endLine": 265,
        "endChar": 36
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eec720d5_648969ad",
        "filename": "spm/cactus/cactus_tests/cactus_test_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 265,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-10-16T11:23:01Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "562e0d86_67d89f2c",
      "range": {
        "startLine": 265,
        "startChar": 10,
        "endLine": 265,
        "endChar": 36
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cedef86d_c6b2e858",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 479,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-10-13T15:36:50Z",
      "side": 1,
      "message": "redundant to checking the last serviced interrupt below.",
      "range": {
        "startLine": 476,
        "startChar": 1,
        "endLine": 479,
        "endChar": 2
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4f47b87_26d6c893",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 479,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-10-13T17:03:58Z",
      "side": 1,
      "message": "Though it appears redundant, it is infact helping to validate the virtual interrupt signaling model of the SPMC. Consider the case where an SPMC didnt inject the ESPi interrupt into SP immediately due to a bug.\n\nIf we dont check the return value now, and later tftf sends a direct req message to check the last serviced interrupt, we are inadvertently allocating CPU cycles and SPMC could now inject the pending interrupt. As soon as the vcpu is resumed, the ESPI will be services and the direct response will return the expected value. Essentially, we missed discovering a bug in SPMC. \n\nI feel there is no harm in keeping this. Please let me know if you disagree.",
      "parentUuid": "cedef86d_c6b2e858",
      "range": {
        "startLine": 476,
        "startChar": 1,
        "endLine": 479,
        "endChar": 2
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4619aa81_bfaa7198",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_secure_interrupts.c",
        "patchSetId": 7
      },
      "lineNbr": 479,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-10-16T11:23:01Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "e4f47b87_26d6c893",
      "range": {
        "startLine": 476,
        "startChar": 1,
        "endLine": 479,
        "endChar": 2
      },
      "revId": "04c922dc8441380ef1101a9c7670730bd20ff7e4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}