{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1005bdd1_fcecdf5a",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_interrupts.c",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-08-11T10:03:31Z",
      "side": 1,
      "message": "uuid of SP_ID(2) should be added to the list of expected_sp_uuids.",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 3
      },
      "revId": "4ee6b92b1a34f090ecf565789ec0d577f9fee208",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8885bf1f_8795d9a9",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_interrupts.c",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2022-08-11T17:15:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1005bdd1_fcecdf5a",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 3
      },
      "revId": "4ee6b92b1a34f090ecf565789ec0d577f9fee208",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b78eab0f_50259450",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_interrupts.c",
        "patchSetId": 4
      },
      "lineNbr": 128,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-08-11T10:03:31Z",
      "side": 1,
      "message": "Is this really needed?\n\nI am thinking that if the SP handled ME it went to Waiting state. After handling the ME interrupt the SP should be in a state in which it is able to handle new requests that aren\u0027t dummy. In other words, should its execution actually reach the message loop?\n\nI am taking this from section 8.3.2.1 of the specication.\nLet me know what you think?",
      "range": {
        "startLine": 127,
        "startChar": 1,
        "endLine": 128,
        "endChar": 27
      },
      "revId": "4ee6b92b1a34f090ecf565789ec0d577f9fee208",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d62fb28_122272e5",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_interrupts.c",
        "patchSetId": 4
      },
      "lineNbr": 128,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2022-08-11T17:15:40Z",
      "side": 1,
      "message": "I had the same question when I was working on this test. Yes,the SP goes into WAITING state. However, it does not reach message loop[1]. We need to allocate cpu cycles for it to resume in the message loop to process the original direct request message that was interrupted.\n\n[1] https://review.trustedfirmware.org/c/TF-A/tf-a-tests/+/15675/4/spm/cactus/cactus_interrupt.c#117",
      "parentUuid": "b78eab0f_50259450",
      "range": {
        "startLine": 127,
        "startChar": 1,
        "endLine": 128,
        "endChar": 27
      },
      "revId": "4ee6b92b1a34f090ecf565789ec0d577f9fee208",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e758747a_1deda80b",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_interrupts.c",
        "patchSetId": 4
      },
      "lineNbr": 128,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-09-07T15:49:30Z",
      "side": 1,
      "message": "Ahh I see.\nWould it be worth refactoring the handling of the ME?\nInstead of sending the response within the IRQ handler, pend somehow that the ME has arrived, finish the handling of the on-going test command handler, and at the very end either send ME response or the actual the cactus command response.\n\nI get this might not be critical given this serves the purpose of testing ME, making this change shows the expected \"correct\" use of ME. Our test code might be used by partners of how to use certain bits of functionality. For that matter I think might be worth changing things slightly.",
      "parentUuid": "1d62fb28_122272e5",
      "range": {
        "startLine": 127,
        "startChar": 1,
        "endLine": 128,
        "endChar": 27
      },
      "revId": "4ee6b92b1a34f090ecf565789ec0d577f9fee208",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71a5dd65_843109eb",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_interrupts.c",
        "patchSetId": 4
      },
      "lineNbr": 194,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-08-11T10:03:31Z",
      "side": 1,
      "message": "full stop.",
      "range": {
        "startLine": 194,
        "startChar": 50,
        "endLine": 194,
        "endChar": 58
      },
      "revId": "4ee6b92b1a34f090ecf565789ec0d577f9fee208",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "325174b0_148ba62b",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_interrupts.c",
        "patchSetId": 4
      },
      "lineNbr": 194,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2022-08-11T17:15:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71a5dd65_843109eb",
      "range": {
        "startLine": 194,
        "startChar": 50,
        "endLine": 194,
        "endChar": 58
      },
      "revId": "4ee6b92b1a34f090ecf565789ec0d577f9fee208",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}