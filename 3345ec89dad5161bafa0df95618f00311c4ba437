{
  "comments": [
    {
      "key": {
        "uuid": "88456f9f_a9206804",
        "filename": "spm/cactus/cactus.mk",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-09-07T14:55:35Z",
      "side": 1,
      "message": "Not sure this works. This is defining CACTUS_SEL1_SPMC but at this stage, it is neither defined to 1 or 0.\n\ne.g. on the C files command line I see -DCACTUS_SEL1_SPMC but the value is not defined when building eventually.",
      "revId": "3345ec89dad5161bafa0df95618f00311c4ba437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32f72e45_7ade0b8d",
        "filename": "spm/cactus/cactus.mk",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-09-07T21:30:56Z",
      "side": 1,
      "message": "The \u0027add_define\u0027 rule from cactus.mk introduces the define for the source files. This helps the compilation and the right code gets included.\n\nI added \u0027-DCACTUS_SEL1_SPMC +\u003d 0\u0027 to cactus.mk but ran into compilation issues with macro redifinition. Short answer, the current code works as expected. If we add \u0027-D...\u0027 we will have to delete the \u0027add_define\u0027 from the makefile leading to confusion.",
      "parentUuid": "88456f9f_a9206804",
      "revId": "3345ec89dad5161bafa0df95618f00311c4ba437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "675bf9a7_5e23b12d",
        "filename": "spm/cactus/cactus.mk",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-09-10T08:28:26Z",
      "side": 1,
      "message": "It might work on your side for cactus-SPMC but it breaks the original cactus SP.\n-DCACTUS_SEL1_SPMC defines CACTUS_SEL1_SPMC for all variants.\nEverywhere #if CACTUS_SEL1_SPMC is used the conditional code gets compiled in.",
      "parentUuid": "32f72e45_7ade0b8d",
      "revId": "3345ec89dad5161bafa0df95618f00311c4ba437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5dec7eea_0e370d59",
        "filename": "spm/common/sp_helpers.c",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-09-07T12:42:59Z",
      "side": 1,
      "message": "this breaks cactus_mm build\n\nthis leads to the question that spm_vcpu_get_count, spm_vm_get_count, spm_debug_log should rather be relocated locally to cactus",
      "revId": "3345ec89dad5161bafa0df95618f00311c4ba437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87449231_8ce4abe1",
        "filename": "spm/common/sp_helpers.c",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-09-07T21:30:56Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5dec7eea_0e370d59",
      "revId": "3345ec89dad5161bafa0df95618f00311c4ba437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15b3c170_ee30a399",
        "filename": "spm/common/sp_helpers.c",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-09-07T21:32:47Z",
      "side": 1,
      "message": "This should be fixed with the latest patchset",
      "parentUuid": "87449231_8ce4abe1",
      "revId": "3345ec89dad5161bafa0df95618f00311c4ba437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb3578aa_5be53c15",
        "filename": "spm/common/sp_helpers.c",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-09-10T08:28:26Z",
      "side": 1,
      "message": "Back to this there was a rationale to make those wrappers common to all SPs (https://review.trustedfirmware.org/c/TF-A/tf-a-tests/+/4618)\nIn any case as said in another comment spm_vcpu_get_count, spm_vm_get_count are no longer relevant.",
      "parentUuid": "15b3c170_ee30a399",
      "revId": "3345ec89dad5161bafa0df95618f00311c4ba437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}