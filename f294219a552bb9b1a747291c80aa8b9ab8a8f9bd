{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a997078e_61824050",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_smccc.c",
        "patchSetId": 6
      },
      "lineNbr": 44,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-07-12T18:03:42Z",
      "side": 1,
      "message": "can this be moved to ffa_helpers.h file?",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 44,
        "endChar": 2
      },
      "revId": "f294219a552bb9b1a747291c80aa8b9ab8a8f9bd",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "621e0071_b5c14652",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_smccc.c",
        "patchSetId": 6
      },
      "lineNbr": 44,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-07-20T12:58:28Z",
      "side": 1,
      "message": "I can do something for the expect_eq macro.\n\nFor the ffa_value_ext structure I believe I\u0027ll wait for Raghu\u0027s change to merge and rebase:\nhttps://review.trustedfirmware.org/c/TF-A/tf-a-tests/+/20673/5/include/runtime_services/ffa_helpers.h#182",
      "parentUuid": "a997078e_61824050",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 44,
        "endChar": 2
      },
      "revId": "f294219a552bb9b1a747291c80aa8b9ab8a8f9bd",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e5b5f3d1_44eba0d6",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_smccc.c",
        "patchSetId": 6
      },
      "lineNbr": 44,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-10-19T09:01:21Z",
      "side": 1,
      "message": "struct ffa_value now holds 18 registers.\nRedefined struct ffa_value8 for the sole purpose of this test.",
      "parentUuid": "621e0071_b5c14652",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 44,
        "endChar": 2
      },
      "revId": "f294219a552bb9b1a747291c80aa8b9ab8a8f9bd",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74e5c40c_2628c74b",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_smccc.c",
        "patchSetId": 6
      },
      "lineNbr": 206,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-07-12T18:03:42Z",
      "side": 1,
      "message": "ffa_value_ext",
      "range": {
        "startLine": 206,
        "startChar": 36,
        "endLine": 206,
        "endChar": 45
      },
      "revId": "f294219a552bb9b1a747291c80aa8b9ab8a8f9bd",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "50d00056_ee655ddc",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_smccc.c",
        "patchSetId": 6
      },
      "lineNbr": 206,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-07-20T12:58:28Z",
      "side": 1,
      "message": "Good spot!",
      "parentUuid": "74e5c40c_2628c74b",
      "range": {
        "startLine": 206,
        "startChar": 36,
        "endLine": 206,
        "endChar": 45
      },
      "revId": "f294219a552bb9b1a747291c80aa8b9ab8a8f9bd",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b0d86a8_e8d5a3f1",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_smccc_asm.S",
        "patchSetId": 6
      },
      "lineNbr": 84,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-07-12T13:35:13Z",
      "side": 1,
      "message": "I see that in patchset6 you are using cinc instruction instead of bne(in patchset2). This means the comparison failures are accumulated rather than exiting on the first fail. I am curious what is the rational behind it.",
      "revId": "f294219a552bb9b1a747291c80aa8b9ab8a8f9bd",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "577637c9_ee71f621",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_smccc_asm.S",
        "patchSetId": 6
      },
      "lineNbr": 84,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-07-12T16:41:39Z",
      "side": 1,
      "message": "Well there are numerous ways to write an asm function for achieving a same purpose.\nIf I\u0027m honest, there is no strong reason to write it this way other than cosmetics.\nMain one is that it avoids declaring labels and doing branches.\nThe success criterion is return value equals zero. A non-zero value gives a debug indication about the number of registers failing their condition (ok, that may not be super useful I agree).\n\nThat said, from what I recall from trainings and as I\u0027ve observed in aarch64 dumps, aarch64 ISA has added the cset family of instructions to minimize the use of branches. E.g. a switch-case C construct can be translated into asm with a minimal use of branches. I guess the reasoning is that it is always less costly to do ALU operations rather than doing any form of branch. The latter has a high cost when clearing the instruction pipeline. So performance wise it is fine to fail and continue doing simple arithmetic operations (that are effectively no longer necessary as we know the function failed!), till reaching the end of function. This supposedly has a better timing than a pattern using a branch in the middle of the function breaking the instruction flow.",
      "parentUuid": "4b0d86a8_e8d5a3f1",
      "revId": "f294219a552bb9b1a747291c80aa8b9ab8a8f9bd",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28021ed7_a28862e7",
        "filename": "tftf/tests/runtime_services/secure_service/test_ffa_smccc_asm.S",
        "patchSetId": 6
      },
      "lineNbr": 84,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2023-07-12T18:03:42Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "577637c9_ee71f621",
      "revId": "f294219a552bb9b1a747291c80aa8b9ab8a8f9bd",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}