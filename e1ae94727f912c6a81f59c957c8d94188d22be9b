{
  "comments": [
    {
      "key": {
        "uuid": "ff6af432_793ad86f",
        "filename": "include/common/test_helpers.h",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2018-12-06T09:44:27Z",
      "side": 1,
      "message": "I think we need to include spci_svc.h to get the definition of SPCI_VERSION used by the SKIP_TEST_IF_SPCI_VERSION_LESS_THAN() macro introduced in this patch.",
      "revId": "e1ae94727f912c6a81f59c957c8d94188d22be9b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "423b1728_386f4543",
        "filename": "include/common/test_helpers.h",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1000050
      },
      "writtenOn": "2018-12-10T16:08:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff6af432_793ad86f",
      "revId": "e1ae94727f912c6a81f59c957c8d94188d22be9b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "432cb29e_e3aba80d",
        "filename": "tftf/tests/runtime_services/secure_service/test_spci_handle_open.c",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2018-12-06T09:44:27Z",
      "side": 1,
      "message": "SPCI error code are small negative values like -1, -2 and so on. Therefore, I don\u0027t think it\u0027s a good idea to cast the return value into an unsigned int. Also, I\u0027m not convinced printing the value in hexadecimal format will help. I much prefer reading \"SPM should have returned SPCI_NOT_PRESENT. Returned: -1\" than \"... Returned: 0xFFFFFFFF\"",
      "range": {
        "startLine": 43,
        "startChar": 19,
        "endLine": 43,
        "endChar": 29
      },
      "revId": "e1ae94727f912c6a81f59c957c8d94188d22be9b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8a79d67_5aa67842",
        "filename": "tftf/tests/runtime_services/secure_service/test_spci_handle_open.c",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1000050
      },
      "writtenOn": "2018-12-10T16:08:19Z",
      "side": 1,
      "message": "But that assumes that there is never going to be a problem with context corruption or anything like that. As long as things work fine, this will return an error code. If things go really wrong, it may return garbage, and then an hex code may be more useful.",
      "parentUuid": "432cb29e_e3aba80d",
      "range": {
        "startLine": 43,
        "startChar": 19,
        "endLine": 43,
        "endChar": 29
      },
      "revId": "e1ae94727f912c6a81f59c957c8d94188d22be9b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8cd28f53_4acc1255",
        "filename": "tftf/tests/runtime_services/secure_service/test_spci_handle_open.c",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2018-12-10T16:29:39Z",
      "side": 1,
      "message": "The scenario where it returns a valid error code seems more likely to me. The other one you mentioned, where things really go wrong and the return value is complete garbage is less probable. Moreover, the error value in this latter case would probably not help the user debugging the issue anyway. I think that if he reads something like, \"SPM should have returned SPCI_NOT_PRESENT. Returned: -1745596\", this will be enough to tell him that something unexpected happened. What more would he gain by seeing the equivalent hexadecimal value in this case?\n\nThus, I still think we should go for the most likely case and print a signed value.",
      "parentUuid": "f8a79d67_5aa67842",
      "range": {
        "startLine": 43,
        "startChar": 19,
        "endLine": 43,
        "endChar": 29
      },
      "revId": "e1ae94727f912c6a81f59c957c8d94188d22be9b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e16880fc_ef3b62e6",
        "filename": "tftf/tests/runtime_services/secure_service/test_spci_handle_open.c",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1000050
      },
      "writtenOn": "2018-12-10T17:22:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8cd28f53_4acc1255",
      "range": {
        "startLine": 43,
        "startChar": 19,
        "endLine": 43,
        "endChar": 29
      },
      "revId": "e1ae94727f912c6a81f59c957c8d94188d22be9b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}