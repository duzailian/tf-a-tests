{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7e6a9302_3b81d1b7",
        "filename": "spm/cactus/cactus_tests_smmuv3.c",
        "patchSetId": 1
      },
      "lineNbr": 171,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-02-03T03:06:06Z",
      "side": 1,
      "message": "Dont you need a barrier after this to ensure that your invalidates are complete before the reads below?",
      "range": {
        "startLine": 171,
        "startChar": 1,
        "endLine": 171,
        "endChar": 41
      },
      "revId": "98ce2f1740722cd2e5d60f52e9e4cd109c606c29",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80b0c96f_230e0452",
        "filename": "spm/cactus/cactus_tests_smmuv3.c",
        "patchSetId": 1
      },
      "lineNbr": 171,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2021-02-10T01:17:30Z",
      "side": 1,
      "message": "Hi Raghu\nI see that this macro is essentially a data cache operation on the virtual addresses in the range target_addr to target_addr+cpy_range. The addresses for the subsequent reads are also computed from target_addr. I was under the impression that this is a true dependency and the execution would essentially follow \"sequential consistency\" model. Hence, I did not use an explicit barrier such as DSB. Let me know your thoughts.\n\nfortunately, the macro has an implicit barrier: https://git.trustedfirmware.org/TF-A/tf-a-tests.git/tree/lib/aarch64/cache_helpers.S#n34",
      "parentUuid": "7e6a9302_3b81d1b7",
      "range": {
        "startLine": 171,
        "startChar": 1,
        "endLine": 171,
        "endChar": 41
      },
      "revId": "98ce2f1740722cd2e5d60f52e9e4cd109c606c29",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d1b7947_a5582f0c",
        "filename": "spm/cactus/cactus_tests_smmuv3.c",
        "patchSetId": 1
      },
      "lineNbr": 171,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-02-10T02:23:20Z",
      "side": 1,
      "message": "It does. never mind :) Thanks.\nAs for true dependency, i dont know if the arch requires to honor the dependency between a cache maintenance instruction and a load... Do you know of a place in the ARM ARM that says it will be respected?\nI know it has to be respected between regular loads/stores but not sure if it needs to be respected between cache maint instructions and loads/stores..\nWould be great if you can show me in the ARM ARM or ask some one internally and let me know! :) \nInteresting case.",
      "parentUuid": "80b0c96f_230e0452",
      "range": {
        "startLine": 171,
        "startChar": 1,
        "endLine": 171,
        "endChar": 41
      },
      "revId": "98ce2f1740722cd2e5d60f52e9e4cd109c606c29",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "739449c1_7043dc09",
        "filename": "spm/cactus/cactus_tests_smmuv3.c",
        "patchSetId": 1
      },
      "lineNbr": 171,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-02-10T13:52:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d1b7947_a5582f0c",
      "range": {
        "startLine": 171,
        "startChar": 1,
        "endLine": 171,
        "endChar": 41
      },
      "revId": "98ce2f1740722cd2e5d60f52e9e4cd109c606c29",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}